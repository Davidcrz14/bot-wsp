# ğŸ¤– WhatsApp AI Bot

Un bot inteligente de WhatsApp desarrollado con Node.js y TypeScript que integra IA de NVIDIA para generar respuestas automÃ¡ticas. Incluye un panel web en tiempo real para monitoreo y control.

## âœ¨ CaracterÃ­sticas

- ğŸ“± **IntegraciÃ³n con WhatsApp Web** usando whatsapp-web.js
- ğŸ§  **IA Integrada** con NVIDIA GPT para respuestas automÃ¡ticas
- ğŸŒ **Panel Web en Tiempo Real** con WebSocket para monitoreo
- ğŸ’¬ **Sistema de Comandos** personalizable
- ğŸ”„ **ReconexiÃ³n AutomÃ¡tica** y manejo robusto de errores
- ğŸ“Š **Dashboard Web** para enviar mensajes y ver estadÃ­sticas
- ğŸ¯ **TypeScript** con tipado estricto
- ğŸ—ï¸ **Arquitectura Modular** y cÃ³digo limpio

## ğŸš€ InstalaciÃ³n RÃ¡pida

### 1. Instalar Dependencias

```bash
npm install
```

### 2. Configurar Variables de Entorno

Copia el archivo de ejemplo y configura tus credenciales:

```bash
copy .env.example .env
```

Edita el archivo `.env` y agrega tu clave de API de NVIDIA:

```env
NVIDIA_API_KEY=tu_clave_api_nvidia_aqui
NVIDIA_API_URL=https://integrate.api.nvidia.com/v1
WEB_PORT=3000
WEB_HOST=localhost
BOT_NAME=WhatsApp AI Bot
BOT_PREFIX=!
NODE_ENV=development
```

### 3. Ejecutar en Modo Desarrollo

```bash
npm run dev
```

### 4. Abrir Panel Web

Abre tu navegador en: http://localhost:3000

### 5. Conectar WhatsApp

1. Escanea el cÃ³digo QR que aparece en el panel web con WhatsApp
2. Â¡Listo! El bot estÃ¡ conectado y funcionando

## ğŸ“‹ Scripts Disponibles

```bash
# Desarrollo con recarga automÃ¡tica
npm run dev

# Desarrollo con nodemon
npm run dev:watch

# Compilar TypeScript
npm run build

# Ejecutar versiÃ³n compilada
npm start

# Limpiar archivos compilados
npm run clean
```

## ğŸ® Comandos del Bot

| Comando | DescripciÃ³n |
|---------|-------------|
| `!ping` | Verificar que el bot estÃ¡ activo |
| `!help` | Mostrar ayuda y comandos disponibles |
| `!info` | InformaciÃ³n del bot y estado |
| `!ai [mensaje]` | Conversar con la IA |

**ğŸ’¡ Tip:** TambiÃ©n puedes enviar cualquier mensaje sin comando y el bot responderÃ¡ usando IA.

## ğŸŒ Panel Web

El panel web incluye:

- ğŸ“Š **Estado de ConexiÃ³n** en tiempo real
- ğŸ’¬ **Mensajes Entrantes/Salientes** en tiempo real
- ğŸ“± **CÃ³digo QR** para conexiÃ³n
- ğŸ“¤ **EnvÃ­o de Mensajes** desde la web
- ğŸ“ˆ **EstadÃ­sticas** y controles

## ğŸ—ï¸ Estructura del Proyecto

```
src/
â”œâ”€â”€ bot/                 # LÃ³gica del bot de WhatsApp
â”‚   â”œâ”€â”€ WhatsAppBot.ts   # Clase principal del bot
â”‚   â”œâ”€â”€ commands.ts      # Comandos disponibles
â”‚   â””â”€â”€ index.ts         # Exports del mÃ³dulo
â”œâ”€â”€ web/                 # Panel web y API
â”‚   â”œâ”€â”€ WebPanel.ts      # Servidor Express + Socket.IO
â”‚   â””â”€â”€ index.ts         # Exports del mÃ³dulo
â”œâ”€â”€ gpt/                 # IntegraciÃ³n con IA
â”‚   â”œâ”€â”€ NvidiaGPTService.ts  # Cliente de NVIDIA API
â”‚   â””â”€â”€ index.ts         # Exports del mÃ³dulo
â”œâ”€â”€ types/               # Definiciones TypeScript
â”‚   â””â”€â”€ index.ts         # Interfaces y tipos
â”œâ”€â”€ utils/               # Utilidades
â”‚   â””â”€â”€ index.ts         # Helpers y logger
â”œâ”€â”€ config.ts            # ConfiguraciÃ³n de la app
â””â”€â”€ index.ts             # Punto de entrada
```

## âš™ï¸ ConfiguraciÃ³n Avanzada

### Configurar NVIDIA API

1. RegÃ­strate en [NVIDIA NGC](https://ngc.nvidia.com/)
2. Genera una clave de API
3. Agrega la clave a tu archivo `.env`

### Personalizar Comandos

Edita `src/bot/commands.ts` para agregar nuevos comandos:

```typescript
export const miComando: CommandHandler = {
  name: 'micomando',
  description: 'DescripciÃ³n de mi comando',
  execute: async (message: MessageData, args: string[]): Promise<string> => {
    return 'Â¡Hola desde mi comando personalizado!';
  }
};
```

### Configurar Puerto Web

Cambia el puerto del panel web en tu `.env`:

```env
WEB_PORT=8080
WEB_HOST=0.0.0.0
```

## ğŸ› ï¸ Desarrollo

### Agregar Nuevas Funciones

1. **Nuevos Comandos**: Edita `src/bot/commands.ts`
2. **Nueva API**: Agrega rutas en `src/web/WebPanel.ts`
3. **Nuevos Servicios**: Crea mÃ³dulos en carpetas apropiadas

### Debugging

```bash
# Ejecutar con logs detallados
NODE_ENV=development npm run dev
```

## ğŸ“¦ Dependencias Principales

- **whatsapp-web.js**: Conectar con WhatsApp Web
- **express**: Servidor web
- **socket.io**: WebSocket para tiempo real
- **axios**: Cliente HTTP para NVIDIA API
- **typescript**: Tipado estÃ¡tico
- **ts-node**: Ejecutar TypeScript directamente

## ğŸš¨ SoluciÃ³n de Problemas

### Error de QR Code
- AsegÃºrate de que el puerto 3000 estÃ© libre
- Verifica que WhatsApp Web funcione en tu navegador

### Error de NVIDIA API
- Verifica tu clave de API en `.env`
- Confirma que tienes crÃ©ditos en tu cuenta de NVIDIA

### Error de ConexiÃ³n
- Revisa los logs en la consola
- Verifica tu conexiÃ³n a internet
- Intenta reiniciar el bot

## ğŸ“„ Licencia

MIT License - puedes usar este proyecto libremente.

## ğŸ¤ Contribuir

1. Fork el proyecto
2. Crea una rama para tu feature
3. Commit tus cambios
4. Push a la rama
5. Abre un Pull Request

## ğŸ“ Soporte

Â¿Problemas? Abre un issue en GitHub o consulta la documentaciÃ³n.

---

â­ **Â¡Si te gusta este proyecto, dale una estrella!** â­


